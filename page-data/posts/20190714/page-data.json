{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/20190714/","result":{"data":{"site":{"siteMetadata":{"disqusShortname":"","subtitle":"web系の技術について紹介します","title":"kon-shou's blog","url":"https://blog.kon-shou.com"}},"markdownRemark":{"id":"796fddc4-c03a-5d90-b04f-ef02c509982b","html":"<ol start=\"0\">\n<li><a href=\"#%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%A7%E8%A8%80%E3%81%84%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\">本記事で言いたいこと</a></li>\n<li><a href=\"#%E8%A7%A3%E8%AA%AC%E4%B8%AD%E3%81%A7%E4%BD%BF%E3%81%86%E5%A4%89%E6%95%B0%E3%81%A8%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89\">解説中で使う変数とメソッド</a></li>\n<li><a href=\"#%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E7%B0%A1%E5%8D%98%E3%81%AA%E8%A7%A3%E8%AA%AC\">メソッドの簡単な解説</a></li>\n<li><a href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B\">コードを書いてみる</a></li>\n<li><a href=\"#%E7%B5%90%E8%AB%96\">結論</a></li>\n<li><a href=\"#%E5%8F%82%E8%80%83\">参考</a></li>\n</ol>\n<h2 id=\"本記事で言いたいこと\" style=\"position:relative;\"><a href=\"#%E6%9C%AC%E8%A8%98%E4%BA%8B%E3%81%A7%E8%A8%80%E3%81%84%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\" aria-label=\"本記事で言いたいこと permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>本記事で言いたいこと</h2>\n<ul>\n<li>やりたいことに合わせてメソッドは切り分けた方が、わかりやすいと思う。</li>\n<li>でもやり過ぎると、やっぱりわかりにくいかもしれない。</li>\n</ul>\n<h2 id=\"解説中で使う変数とメソッド\" style=\"position:relative;\"><a href=\"#%E8%A7%A3%E8%AA%AC%E4%B8%AD%E3%81%A7%E4%BD%BF%E3%81%86%E5%A4%89%E6%95%B0%E3%81%A8%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89\" aria-label=\"解説中で使う変数とメソッド permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>解説中で使う変数とメソッド</h2>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$books</span> <span class=\"token operator\">=</span> <span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'title'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'How to Programming'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'is_english'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token boolean constant\">true</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'price'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">100</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'title'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'堅牢なシステム構築'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'is_english'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token boolean constant\">false</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'price'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">200</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'title'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'Be Good at Function'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'is_english'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token boolean constant\">true</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'price'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">300</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'title'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'Laravelコレクション入門'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'is_english'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token boolean constant\">false</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'price'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">400</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'title'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'Love beautiful code'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'is_english'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token boolean constant\">true</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'price'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">500</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Slack通知を行う</span>\n<span class=\"token comment\">// 今回は便宜上、渡された文字を出力するだけ</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">toSlack</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$word</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">echo</span> <span class=\"token variable\">$word</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// IDと値段を登録するAPI</span>\n<span class=\"token comment\">// 300円以上は登録に失敗する仕様</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">callRegisterApi</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$id</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$price</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'succeeded'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$price</span> <span class=\"token operator\">></span> <span class=\"token number\">300</span> <span class=\"token operator\">?</span> <span class=\"token boolean constant\">true</span> <span class=\"token punctuation\">:</span> <span class=\"token boolean constant\">false</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"メソッドの簡単な解説\" style=\"position:relative;\"><a href=\"#%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AE%E7%B0%A1%E5%8D%98%E3%81%AA%E8%A7%A3%E8%AA%AC\" aria-label=\"メソッドの簡単な解説 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>メソッドの簡単な解説</h2>\n<h3 id=\"each\" style=\"position:relative;\"><a href=\"#each\" aria-label=\"each permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>each()</h3>\n<h4 id=\"役割\" style=\"position:relative;\"><a href=\"#%E5%BD%B9%E5%89%B2\" aria-label=\"役割 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>役割</h4>\n<ul>\n<li>コレクションのそれぞれに対して、何かの処理を実行する。</li>\n<li>返り値については気にしなくてよい。</li>\n</ul>\n<h4 id=\"例\" style=\"position:relative;\"><a href=\"#%E4%BE%8B\" aria-label=\"例 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>例</h4>\n<p>$books のタイトルをslack通知する</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$books</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">toSlack</span><span class=\"token punctuation\">(</span><span class=\"token double-quoted-string string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'title'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>の値段は<span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'price'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>です\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>コードを呼んでいる時に <code class=\"language-text\">each()</code> を見ると「この処理は返り値について考えなくて良いんだな」と思うので、割と心が安心します。\nそれだけに <code class=\"language-text\">use ($results)</code> など見たら「なぜ <code class=\"language-text\">map()</code> とかでないのだろう…？」と身構えながら読むことになり、基本辛いです。</p>\n<h3 id=\"map\" style=\"position:relative;\"><a href=\"#map\" aria-label=\"map permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>map()</h3>\n<h4 id=\"役割-1\" style=\"position:relative;\"><a href=\"#%E5%BD%B9%E5%89%B2-1\" aria-label=\"役割 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>役割</h4>\n<ul>\n<li>コレクションから、別のコレクションを新しく作る</li>\n</ul>\n<h4 id=\"例-1\" style=\"position:relative;\"><a href=\"#%E4%BE%8B-1\" aria-label=\"例 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>例</h4>\n<p>本に「税込み価格」を加えた、新しいコレクションを作る</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$withTaxBooks</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$books</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'with_tax_price'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'price'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> <span class=\"token number\">1.08</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>コードを呼んでいる時に <code class=\"language-text\">map()</code> を見ると「この処理は何か新しいコレクションを作ってるんだな。じゃあ何を作ってるんだろう？」と思い、それを主眼において読み進めます。</p>\n<p>そう思って読み進んでて「結局 API をループして呼ぶだけだった」となったら、すごいがっかりします。</p>\n<h3 id=\"filter\" style=\"position:relative;\"><a href=\"#filter\" aria-label=\"filter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>filter()</h3>\n<h4 id=\"役割-2\" style=\"position:relative;\"><a href=\"#%E5%BD%B9%E5%89%B2-2\" aria-label=\"役割 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>役割</h4>\n<ul>\n<li>コレクションを、とある条件で選別する</li>\n</ul>\n<h4 id=\"例-2\" style=\"position:relative;\"><a href=\"#%E4%BE%8B-2\" aria-label=\"例 2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>例</h4>\n<p>英語の本だけを抽出する</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$englishBooks</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$books</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'is_english'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>何かの処理を実行する際に、あらかじめ条件が分かっているなら、filterで処理に渡すものを減らしてほしいです。\n例えば下記のコードになると、「１つのメソッドに２つのことをやるのでなく、あらかじめ filter を使って欲しいな〜」と思います。\n（ケースバイケースではあるのですが…）</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$books</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'is_english'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">toSlack</span><span class=\"token punctuation\">(</span><span class=\"token double-quoted-string string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'title'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>の値段は<span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'price'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>です\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h2 id=\"コードを書いてみる\" style=\"position:relative;\"><a href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%92%E6%9B%B8%E3%81%84%E3%81%A6%E3%81%BF%E3%82%8B\" aria-label=\"コードを書いてみる permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>コードを書いてみる</h2>\n<p>実際に <code class=\"language-text\">each()</code> だけのものと、複数のメソッドを使ったものの２つを見てみましょう。</p>\n<h3 id=\"eachで全部やる\" style=\"position:relative;\"><a href=\"#each%E3%81%A7%E5%85%A8%E9%83%A8%E3%82%84%E3%82%8B\" aria-label=\"eachで全部やる permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>eachで全部やる</h3>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$results</span> <span class=\"token operator\">=</span> <span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$books</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">use</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$results</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 英語の本を登録対象とする</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'is_english'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> <span class=\"token function\">callRegisterApi</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'price'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// 登録に失敗した場合</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token variable\">$result</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'succeeded'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// slack通知を行う</span>\n            <span class=\"token function\">toSlack</span><span class=\"token punctuation\">(</span><span class=\"token double-quoted-string string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'title'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>の登録に失敗しました\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token comment\">// 失敗したIDを保存する</span>\n            <span class=\"token variable\">$results</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 登録に失敗した本のIDを出力する</span>\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$results</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">each()</code> の中で色々と頑張ってます。\n実際に書いてみると、if 文のネストがあるものの、そんなに可読性が悪いというものではありません。\n本当は「each文で頑張ると良くないよ〜」と言いたかったのですが、正直このくらいの量だったら問題無いような気がしますね。</p>\n<h3 id=\"複数のメソッドに切り分ける\" style=\"position:relative;\"><a href=\"#%E8%A4%87%E6%95%B0%E3%81%AE%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AB%E5%88%87%E3%82%8A%E5%88%86%E3%81%91%E3%82%8B\" aria-label=\"複数のメソッドに切り分ける permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>複数のメソッドに切り分ける</h3>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token comment\">// 英語の本を登録対象とする</span>\n<span class=\"token variable\">$englishBooks</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$books</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'is_english'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 登録結果をコレクションとする</span>\n<span class=\"token variable\">$results</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$englishBooks</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> <span class=\"token function\">callRegisterApi</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'price'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'id'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'title'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$book</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'title'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'succeeded'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$result</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'succeeded'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 登録結果から失敗したものを抽出する</span>\n<span class=\"token variable\">$failedResults</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$results</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$result</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span><span class=\"token variable\">$result</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'succeeded'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 登録に失敗した本のタイトルをslack通知する</span>\n<span class=\"token variable\">$failedResults</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">each</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$result</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">toSlack</span><span class=\"token punctuation\">(</span><span class=\"token double-quoted-string string\">\"<span class=\"token interpolation\"><span class=\"token punctuation\">{</span><span class=\"token variable\">$result</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'title'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span>の登録に失敗しました\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// 登録に失敗した本のIDを出力する</span>\n<span class=\"token function\">var_dump</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$failedResults</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">pluck</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>全ての処理をコレクションメソッド毎に切り分けたのがこちら。\n正直 <code class=\"language-text\">each()</code> で頑張ってたものより、可読性が悪くなっているような…。</p>\n<p>ただそれは「今回のケースだと」という前置きがつくと思っています。\nある程度コードの規模が大きくなってくると、こっちの方がテストのしやすさや if 文の少なさという部分で軍配が上がるかなと。</p>\n<p>あとメソッドを使い分けると、それに合わせて考えることも分かれるので、実装のための頭の整理になるというメリットもあると思います。</p>\n<h2 id=\"結論\" style=\"position:relative;\"><a href=\"#%E7%B5%90%E8%AB%96\" aria-label=\"結論 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>結論</h2>\n<p>「何がなんでもメソッドを分けたほうがいい」という訳ではないけど、出来る限りで使い分けたほうが何かと良さそう</p>\n<h2 id=\"参考\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://readouble.com/laravel/5.8/ja/collections.html\">https://readouble.com/laravel/5.8/ja/collections.html</a></li>\n</ul>","fields":{"slug":"/posts/20190714/","tagSlugs":["/tag/laravel/"]},"frontmatter":{"date":"2019-07-14","tags":["Laravel"],"title":"Laravel のコレクションメソッドは切り分けたほうが良いかもしれない","description":"Laravelのコレクションメソッドの使い方についてまとめました。","image":{"children":[{"__typename":"ImageSharp","fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAABaUlEQVQ4y6WT6W6DMBCEfR+LDQRIiZS8/2tOx06qqpVytT9Wxos97M63qJwzWmzHI9ZtQykF+77jdDrhcrlgWRaM44jz+dzzO/Pbuvb8PM/MnfrZaRoRQoCy1kIp1TfbuqAMgnU5UKTCaNXfGa3hnOvhvYfn2u4ZY75zt1AhRkg9wKcCG4cePlfYIDA+31aB8wGDyPWSUvejfcmmCXn6QBJW1QS6SKJY7tGEm2BK6bng14OxDlkK22Erjy+8Jqi1gZcZcZgJqSJIQCj0bqA31SBUhTjS68FAK/2aYJAJfli4VmR6KklocoBm9W9X2EmzwlA2xLohD2OHoNoUOPeXlhWs81eysUATiqOYbrPFOdVGvycYIwWc/Q+Mn4KtOimEwrnslelfB9vesBPzsockmsdOOsmIKJFekvwhkLSFS4rAGKL7H/LcQ2M6FC8HhNwI3yhzkPVjgfuUPccm1CPnbe9VNsq6EX6D8icV6SSoeBt1cAAAAABJRU5ErkJggg==","aspectRatio":1.4388489208633093,"src":"/static/abafd01349cb962c168d85f069dc9a27/44739/2019-07-14.png","srcSet":"/static/abafd01349cb962c168d85f069dc9a27/69585/2019-07-14.png 200w,\n/static/abafd01349cb962c168d85f069dc9a27/497c6/2019-07-14.png 400w,\n/static/abafd01349cb962c168d85f069dc9a27/44739/2019-07-14.png 558w","sizes":"(max-width: 558px) 100vw, 558px"}}],"publicURL":"/static/abafd01349cb962c168d85f069dc9a27/2019-07-14.png"}}}},"pageContext":{"slug":"/posts/20190714/"}},"staticQueryHashes":["1155056556","1525128060","783282510"]}