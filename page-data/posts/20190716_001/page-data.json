{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/20190716_001/","result":{"data":{"site":{"siteMetadata":{"disqusShortname":"","subtitle":"web系の技術について紹介します","title":"kon-shou's blog","url":"https://blog.kon-shou.com"}},"markdownRemark":{"id":"f1848a8f-75c6-55b1-83c1-295a3ec94c09","html":"<ol start=\"0\">\n<li><a href=\"#%E4%BB%8A%E5%9B%9E%E8%A9%B1%E3%81%97%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\">今回話したいこと</a></li>\n<li><a href=\"#%E3%81%9D%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\">そのために必要なもの</a></li>\n<li><a href=\"#%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\">実装してみる</a></li>\n<li><a href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B%EF%BC%88red%EF%BC%89\">実際にやってみる（Red）</a></li>\n<li><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\">最後に</a></li>\n</ol>\n<h3 id=\"今回話したいこと\" style=\"position:relative;\"><a href=\"#%E4%BB%8A%E5%9B%9E%E8%A9%B1%E3%81%97%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\" aria-label=\"今回話したいこと permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>今回話したいこと</h3>\n<p>（API開発チームのひとコマ）</p>\n<p><img class=\"emoji-icon\" alt=\"emoji-woman\" data-icon=\"emoji-woman\" style=\"display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px\" src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAatklEQVR4XuWbeZBlV33fP+ece+9bep/p6dlHI40ktI5m0LqMBEICxLoYKEkUEDuJIaSM4xAnhRNccblwSEgFJ7FNSMVhqYhgVMQG4wDGCNtIQgsazUia0YJm1ew93dP9ut9+7zm/vP7VnXere5hmCSR/+FV963df9/Sd8/3+1nveeUZE+Lv8in4RBK4zJk6GGYrTykA7ajWfmKcmIhnFi+1jZnQgVC6LDBuDlUsQWWmsGUUoA5kIASOTAofFcyjADx+d6xwUEc/P8fVziQBjjNsxHF+HjXYYI9c5MZdYK0MipmIN7YCZM0aeI/BNa01TAr9krdxgjbmwh5IzBgMoDAAEAUEQAS+qyMkshINe+Csx5q8enml9X0TC/1cBbhw2K0uu9H6HfU9izSsjZ6w1BteDzYkYQIoLtQaDXYAFiwKTM8/5I2pEyQcRfACPkAYF3RB+4CV8LvOdL3+/Jmf+XwqgIV4dLf2as/YjZWc3JNYQ9RAbw1IByL1LAZS0MRiDQq+B4l8W3hcghEAm4IOQylkRAt0gtDN/KAt84uFa+7OaZr9oAW4dKl0VRfYPK5F7VclZSgvEnSExVkVw1hTklnpWL4twtyqAilZ4v4B6XlNBhEyjQMgUSl5FaHuh4wOtzD+UZeEfPzLf2fMLK4K3rSi/JYmjz1YjM16OLGXrSJxREZyzRNbico9aW4iQ00YAC2DBoiL15SgiJrcBAkoeLyFPA5R8FgyJF7reEBkhtguW25rWfm/HisqHHz7T+uLPXYBbR0vvLEfui1VnS5UF8m4BKgDxAvkFaPhbrFXPFgTVKvopYdRSiLA0BIoiiJIXQbyQSVDPp16IfSDKeggGZ8FmMtbKuH/HWHnVwzPt//hzE+CWkfLd5djdPxBFpWpkqThLKVqAy8Pf4SJDpJ63/bxelALnpkUR+moMS2qlEhe1gRAgOCEKoQchsj3rvKZc5DWCsEj+9+b3bx2tlh6Zbf67/2sBbhkuXVaKo/urzpaVfA8LtuQi4p5NrCXqWdfP/0IAJYxaWOJxtUtFAuijSAERq/kfevDB4FQAJY4zHi26KqhQvOTf3jpSOvZIrXP/zyzAhcaUN4xVPldxZmUe9lQiR7IAZ9Vq6Ct5i80L4FIBWEI2t4VIhQDkl4iAqBWFl7MCWGwIZNZgzsJ4MCAEVDAED2Qin75xMHn28Xr36Z9JgLXDyb/okb6pFDklX1LiSp44Pkve4pzmPkpoiQAsIl2Io0XQ5oKwOD0EACXf7wZOi6AoeRty8RQgFAVUyS9ARbNDXtwfGWNefb4WGS2T9xfHkfvNslXPF8Qj04NDiSuUfFH5i6T+kTDFBTl1rFlcKywAICqGYMWoCMZITjqQhxUAQm7FECLwAiGfGbLArb00/gDw6Z9KAAz/vEd8KHFG81zJa6V3OGMKwprzxWIEMKJWgb5nUUu0So7C0xTkC4WK4UiMigAiKF1DMSs6QUQtQSASS6LtUigFSI3Qjuy/vGrE/MmecydG3O/8zu+w9HVtz/uVyP5RJXJJxTkqsUYBUeS08DmXIye/VADpFzBy5NUcKQjC4mtMjtxgzg0dMRgjhcfz+BdMIbgUxTNoKrCAYcSe/ocf/dijP1EERPCh2NjB2Jh8yNACh+s7yBSFymiOknMrRtgiM/thjjEE0ehRODFYW7w3izqHLBmOi3ub/j0FvY+FELQLaT2KgiVasN4S26BTqsN8cKMxnz4i0lpGAJ3zR0pjlXtjreworAXQBSphEMJZbwT6IamqC4BaQvAAOOv61V5bpVqLD4UARUpxbl0olESWppcqJtoNbLBYKzgnSj5ygdgbYgeJd5esGSq9FvjzZQUwA8kbY2PWOZN7vofceXmOqYVQZHDRtrRVEQCfZYAhhIDBE8eRktN2aUAXas8VwNLvFIUAi8Qo2mMIIOcmEVYF1BQlUivETnDe3PdjBcDZt1pD7gFACRtErZAGcIiGn5Ei70WJn+3VMD05zZvf93YGR4a4/1P/nfHV48RJjFUB6M8NbqkAOXFrls4MxUwBiv6aNNoAKSYtrEXTwbp8YLKK2xYi/EmR2o8U4DJjhsZGy7er+rmeYkThRTCiIY8QKNwBAkpctO0EzkzNsHJinNff+xYGV63mxNHT/O8/+RqVUqKClHrW2rComzi1OflCgIK8WrM0LfKoAxVeivEZBXmXCqjoxqxnpHQj8O0fKUBpKNpmRNZaQHuusrP9SYwQdBFeFrshCPjgaTbazM7Ms2nLRj7ye/+MwaEROrU6v/yxf8K2227iq194gH3PPk/75DSlckylWqZcKRM5p12liIQlpNVCcb20OCpxBUWNwHB2RAaLigxibjuvAE7cds1AEURJCd4GsmAJEvD9CSznHqCbZtQbDdJuxsTaVdz3rjfylve+lVJ1iPpcE2IHc3W23Xkr2+66ndMHj7DzkSfY9fATHDv4MtMnThHSLsEL5XJJhUmSEnEpxjmHErCmX0CVlIUiSouiqyKEoOsOuRBKBDB9yPbz1oAgcr1q1u+roiIYNOf7ISkS6HYyWo021eEq266/mtvvuIFtN7+SgfGVtJtdGvUGJoow1uGB5swcLnKs2ryBuy+/lLs/8F78TI3JE5McfOEljr5wgCP7D3H04EFmTk9TnzqDNagYlUqZcjnBxVGeKqDFuWjLRWHsPzPk10ZAFj2OX3VeAaxhC0YQzXXBm1wKQr/veq+hzvjaMV77ttu48ebtXLR5PXGpTNsb5qZr4BJM5LQKi3N5X7eIGNr1JvRgrSVKItZu3sTayy6GKII0g3aH6WPHObb/MPv3vsC+vS9y6MX9TJ48jYRAZaBCtVrWrqLVvlBBEZR4LkDIa5ahSAtk1XkFEMNqTfXc817nciEV9T5ZN0WM4dpXX8Mdd93AhnVrKMcJ9XoLaWeYuAQuwliPFYPHYETAacVHrAMVFRU57aTQyaDeKJ4DnGXl2jWs3LSOrXfcDMHTOH2awy/s46lHnmT347t4ed9hXc/g0CClJNJroGjHUoiQSS6E9H9fOb8AIitELYS88hNEVfZpRlSOuP5VV/DKbZdTcjGt+Ta2Kvi4Bx+QLAMTYeIYG0dELiUqlUiiBGKDM7Lsg5JI0FrS7bTJ0pS01caHLsbA2ovW80uXXsAb7nl9r5D+kIe+9RBPPv4MtfkmQ4MVTa+lIngVQa0ioI405xUAYVA5K3IBBDIfIIFLtm9g/fpV4EEI+JDS6AiSdkmNhR7EGkwc4aK4hzJxt0S1MkAJoeQMETHAuUKopxbgaXfbtNstOvU6nbRNyDK87yI+6Gi+ZvMa3v/he7jrzbfw1Qe+w87H9lIdKGt7zV9FFBT1QCEC548ATKT/EBVBBQA07wcnBhkeHsz3/CydLCDdNqRCs9thtt5AbAkTJ4gWSk+1UmHlylWkQx0qWUbwgXK1gnMJFlmivZD5lFa7TqNZp9WoMz83y/T0FJ1OhrEWCYJJO0RkjA4PMT46wvs/+DYuufJCvvrlB5mZqzMwUER40LmEvggSUBGW6QIhCNaKgOZv3kuCFQYGEwZKCfECQTzdrEN9vsmRk5N0K6OsvfQG9h48zoFeaxsbG+OG67aTpTPsf3oPF66fYOOmzUrAOkO5YjHWFXmpnvJ0Oi3qjXlqczMcOnCA45NzvfteR80adu7cSavV4vJLL+HCdSPs2vsYw24/mzes45rrLmXFyiE+99++zuxsQ6MBUOg2ej8FUFAAuyQKFco7FDuxNraUqyVKSawDiyCcPHmcZw6fZvUt7+HdH/1j/vIH+3n0iWe55+99CFsa4BP//g9Yffmd3P33P87BGcue5/cy36rRare0nkg+yCuALMtotZvUajPsfnYPU36cd/3679OpbOST/+E/sXHLFbz5ne/jz77xIHtOZNz7sc+RXHIXTz1/iIP7DrBq9Sj3vu91RHFMo9Eh80LqQ+79QBDyKJBlBAACQpEGEDAQQzUpEUcxkbM0GvNMs4I3/sYf8NZ7f5mv3P95/uJ/fobX3noNd7/uTu572+sZdg0+8sH3sOmCLfzKb36KTnULB3teTbstLXC6GIIiBE+WdWm3m/zwpQMMbLiJX/2nv0u73eFjv/4rvGLdMO975xt4x9vfxI5tW/gvn/wYu37wOPd94CPc9P7f5UhdmDkzw6qJMe588/V0faCTZup9RT//ZfkIUM/nCApdpLYm3QZbgHP4NOWK19zLVb2BBuBbf3o/97z9tSTdad76mmv54h//Z97zjtcxWgp87YH/QTUxvO5d/4i6DNFqNRAbMJqQAaTAfO0MYWgTb3j3rwLwpc//V666eD1ves0N/PZv/QbvvvtWLpoY4I133MQDn/8MADffcgsbt78e32nT7Xa54KLVXHTFOhrNLt7rswnFYLR8DSh2cnIYAyJGUyBJHM4ZbTcjg1Wap/YhQKvRZNVohVffeDUPPvYCX//rpwD468//a6698mLmZk8DsHpijNE1l0I2iQtoahkrkNcaKxbxMHHB1QyVHQBZq8bN2y9nYuUon/3K3wCw49rLuf26q9m1bxKA2TZQO8rgwACZcWTdjIsuWc3B/afodD02ssUTI4IsFwG6JKFoGRhVzXD2Aw/dF2R0eAXlEzt5/OHvEQ9UufKKhbnAcseNV7J+9Qrue9MOxseGWDlaZevW7QAcOzFNKcwzMjKqdcTY0JfcmKDijq8YQZqTTNXaAFyzbRtDlZjN61b1SF/BxResZftlF1EpO7Zu24oAu7/7FcbahxkYHus/O8SJZWz1AGnm8foMo5xysFwX8ALOhEWRIBhQuHxSi5OE9ZWYqZ1f4tnIcs2d7+bYYw9w/dZX8OiXfg8hsH/fIS64dBtX33wHB46c4uVdf8nmkcBgZUi9bYIBVF1ELM66nrAr2dA+yZ7vf51X3PAGbn/TfXzt0DO0GvN88ZO/hjEwdabGvg5c8aq38cSDX6e67zuMjY/TScFydo/OEFfsgsk9D77gtOyeoBeIBFD05wHTV5AQMM6SDFS5YCCj9swDDE1cSXniFTzx/DFGBkpk3tOxQ1xyw13sefTb+MkXuHQkZnBsAudiIBQLyS8MQhQnrF29msrMKQ4/9AXK67ex5ea3sW/3g5yYfVm5zTW6rNh0FfHRxxiYfYmhdeN4H5NJEyHkZRUkgMGQCUgBlp8DlGNB3otgRR+A8oeMTH9mDBoJSTTI6vIAWXaUifEq00OraHU9LkkYGhyhPLuLqsuorhshjqsYG2FzJyEBMMDijeA4LjE+vprhap367E6GTYnhLZupz83o5LllbcJYNE/k20TjExCEtmS6PjCouCHDpwELZAjKp7DLCAAdERIhXyQgFr1Z6r1WVdGqGpDglYi1MZWkTCWKGBuKMFGiESLWgBnCRhEmz031EIYl7l8CwRpLUh5gLC4hPmPVQMCMrkAkoHsHmSf4REdwb/L2JkEjL017yK2O5RrBIAWWbYNdJU+RN4glSyFNM7zPhchFQLxSAlWb/LMuxDgsMcaQx10emBKwRrSWCMWKdMQFIv17FVktGL2nwSELEKOwSiwgCh2x840Qr8NPmnkdn0XIx/JC6uXnAENLkKJdiPIn7WR0Wl1Sn5GlPWQZPvX4TB9e8gV4RK8zDcEgXgXSReZEI32qTGk05jA+xUgPZBhSOp0mrXaDGIsJAfGhEAiPSA/eg0H/D7zeG5/lTsm97rOMtJvSaXvyYCPn9JO0QZoBij02ACNkGcw32nTSrpLPvFekkisvmhJKnAWbZeh7EfS9z5RIt9Pl2w89yqGXDzA/f5pWY5p2fZpmD5Onj/Z+930mp6bRcduH4n4+R8g07CXzecgLGoN40ixTdLOU+WabbjtDvV8MeOTjcLbcs0BD1BZpoBCYq3Vot7t0uqkiC1leHINCFpB5JYwE1EN6rcDlQ9PfPL6T7z72FI/t2s2uvXvZ/dxeHt/9NH/b+9l3HnmiJ8RpHMBZ8kvERa/V45oqOu1lKSqArq3D/FyLtAuoAPSBWtJlaoCZV7VYUjSsYW62zXyjSavbRTcruoHgU7QeaAjmKZClqKfEg8/6qeFDRqUSce0lm3jy2Rf5swcf40+/8xj/68FH9frb33+KC1aNsX7lqI60yNmwT3vIxQh6rffyeeR5n+n0101T2p0ujXabmekmOQ+1Sz6v7CwTAeFMKBTr91SsodHImJ6t02y3aXa6dHxKN/Nk+UKynCReUwDyhaPpEFQ0BO6+7Sb+wVvu5KpNGxiIEsomZvP4Ku67cwfvffNdVAcq+KxTRJSSz4VIU0LwCt9D5vOw79lWp0uz22V2rsHMTAesKfJ+ESfqy22InPJFtcQKiLYlQ5rCqZPzzG9q0mi2GB6o0i0l+cmwBIMhmPzvvEHybWsBDKBLMRHVwSFueOUrufryy3TrS0R0y6wyMECUJAgoQXR+zWtJXldMCCh5fcxV0Ulzz7dabRqtBlOTNZrNjMi5IvfJrfLh9HIbIseCGIR8yWLynWG09UxN1jkzM8fKkWGNhEqlRBJHuiBjPMYDxhCRYUHJGZdXEnHaGWwcEw0lDA+WkE4GgEks4gyhnRI6Kdo2FR6KAqiEsywXwAu+m9LuodXu9NBibq7OsZ6TJFhCBKEgTzHVyqnzC2A4qn9kBPWfFDex1lJveg4fPaNPZyMDAypAKY6xzoBLUJ4Z4ASHEEnAWIhLEfFACVOKCfNdwsEpTDUh3jSCOIs/WSecbuAmqrhVVST1+EabtJXp5onuCSr5QHa232ddOtrvOxqRtXqLo6dmODPVxjrbJ69AQAQPgDl5XgGM4UhA8Bii/vhoUKtTHxx9eY7NG2cZGRxEP7BIEpx16nVTArwBAVeOSYYTXLC0T9Y4/dw+Zh4/QvPJo6SnpoCI8Xuuo7xxjON/+LeEdh03NEp16zqGb72A0a1rGNo4RCgntFpCqKkIOXlPlmZa8RutFvVmg5m5WQ4dmiZNhThZfMqUfjdTHi+fPwIyTgYnnWBMSYzgxWA1IgBBla3XPfsPTDE+NspgtawfeOoxOacCQgRRJaa25zTf/PKT7D5ynKOT08wwTwAcMZYICPDlg3myOSBC5k+SPbIHecQzSpWJoZVcuXGC2+7exsTtG8m6Xttv5jPaaUqj1aHebDI73+Dwy9OcOtnCRY4ABQT8ovfh0DJFkKMBZjJhjRWwJu8EUpz2tJHj4OE51qw9zYDuEyZY49BNTgOJAC2D21TlptI4myePU2MNDdZzhoxZMhoEQJghwyOMEpGoLEavVxIxBAzMt1g3PUT1shW0faop0E0z2t0uzYWi1+iRrzU4MTXNCz+cIojF2oK4ArVkohbx7DuvADMis+OxPRJgTSYQm+IYjPRrAToD7HnuOCtGqiRxCRdFPVicAZOAdAxJNaL88WvZ+BcrGf7U40CbEgNYLIZzD0YWT2yBLm1SAqPvuJ7Sh64mbXdJaz2kKd2si/b7RouZuXmmazPsff44s7MdklKMiBT3wuQRILkA0hCWSYF8GHreI9dbYwiSfzwmsmi1LnGcnuywe+8xqtWydoJIj7cERMqUSgINryGb3L2J6tWjHPn0o0z+4EUlGFPCqb8t9J8SAylttWMbNrD5w7firltPe7pF2uzixSv5Zquj5Gfn5zjTw3MvHWP/wRpxFBd9X8my6L1KazgyC6eWFQAJe8TY3Be6RAL0PRby1IiTmP37Z6mUDxNvc/1jqsGr6mRRoBQC4UQgGS1z8cdfz6pnr+bQV3f1hDhAs3OGjBQQnEpSYeWVG9n8lm2M79iCATrH5smHHR13W62Uemuh4jeYnqvxwktHePqZSax14JZMfIAsmQMQXhKR9vIRENgdLIWCAbwtjjCrNOSHmSLHs89NETnLtVs1V/qPx3FSwpeFUvD4msfWOwxePME1/+pNdGtNZvafonmiBsFTWjHMyJZVDKweJfhAp9bSHh+C0A0paXuh32e0Wk1m63WmZ2s8v+8Ijz55nDSDOLZ4JSvIkpwPgEfwgBfzFMCyAmTwrBOZFWNGlQrgoBgmDNhcDGctiGXn05M6Ft9wTegPKwPVDB9K+CQmCh6dzGZSrItwccSKy9ezausFAIgPZO2UxtS8js9Zvrnhs6CDTrfT0aI3N99gqjbL3heP8thTx+mmhlLsco8X5PWKXBABim+ePPFjBWjAZILs8WJ2WMgPGy45ryhgyA9M2B6cY9czU9TqKTdv38T61SvpdlIGBsuUkxJJFJEkkYZq7Bw2sphGXgopzhriwUtGlnrSLOijbafdod5uU683OX1mhp17emG/9zSC0a16n3td+jaP3KIO4JW8zGWw+8cKICJh1JnviWGHR7B5JcWAmrwGoNeCAYwzuJLjh/trTE29yHXb1nD5hWsYbQ9TKZepVBKSOMmP1zuss/lpMYMAFKc6yEL+bJ+mtDop7XabWr3OoaNTPP70UV4+0aAURzp7KHkRgIJ88fyPp/hEOBjZ1RA5vrwARR34Rkb4Leus8QIUEyEGCBi1GDBIrowhqURM11O+9dBhnt8/w9bLVrF53QqGBwYplxLtFnEPzuixW8AUoRoCqXh85ul2Mzppyly9yfGpmV6ln+TFg7N0u0K5HIOBrCAOQtH69LqIXA+5UHzjJz4sPQ8/GIbnvXBFzq4vgiEnDRgxIIuP9jrnCMHx0tF5Dh6bZ83ECS7aOMr6iRHGh6sMlsvqPWsWkN9NQn4IK9Bod5lptDgxNc+BIzMcOVmn2wkksSNOHEEARZE+LCavCIFCBJE0BP78p/rW2LAxH42c+YQeazVgMdji7D8CUIhx7h6v0UVocQRDpWQZHYp7qDA8kFApxySxBWP6m5jzrR75WpfaXJtG22v4xvn3ETjPGWvhR5wgpagDXoQsyDfngrzxpxJg0JjV1vCMs2bC9r+SsmQBpi9/Yc5FMYh4QSiO+huWnvoEFdkVYi/7nYOlN1i881OcCfBy57zId39yAQoR3u+s+YIuthBg8TJEugItA22BLtARQw3wCDUDodDM1AKkRfKfQ0QAa5FRwBZOZlggsVAVoWqgJD0YqGBMean8QXKr1/KZeS8f+hm/OKkivNca7jGGOYETwCkMk3imBf1ZLe7BQ30eGkBXRDy/gJcxxgLRCAx0YdDBsIGRBXjHqBNWC0wAa4ywNhieqAf+jYh0lhXg7/Lr/wCl7hORqk1v2gAAAABJRU5ErkJggg==\" title=\"emoji-woman\"> 「『実装が正、スキーマが追従』って無理だよね」</p>\n<p>:man_tone2: 「『スキーマが正、実装が追従』するようにしたいよね」</p>\n<hr>\n<h3 id=\"しましょう\" style=\"position:relative;\"><a href=\"#%E3%81%97%E3%81%BE%E3%81%97%E3%82%87%E3%81%86\" aria-label=\"しましょう permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>しましょう</h3>\n<p>PHPUnitで、APIがスキーマと異なるレスポンスを返したら、落ちるテストを書きましょう <img class=\"emoji-icon\" alt=\"emoji-red_circle\" data-icon=\"emoji-red_circle\" style=\"display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-red_circle\"></p>\n<hr>\n<h3 id=\"そのために必要なもの\" style=\"position:relative;\"><a href=\"#%E3%81%9D%E3%81%AE%E3%81%9F%E3%82%81%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\" aria-label=\"そのために必要なもの permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>そのために必要なもの</h3>\n<ul>\n<li>OpenApi</li>\n<li>redoc-cli</li>\n<li>PHPUnit</li>\n<li>openapi-validator</li>\n</ul>\n<hr>\n<h3 id=\"openapi\" style=\"position:relative;\"><a href=\"#openapi\" aria-label=\"openapi permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OpenApi</h3>\n<p>スキーマを書くための すごい yaml (JSON)。</p>\n<p>まぁまぁ覚えることが多い。</p>\n<p><a href=\"https://swagger.io/docs/specification/about/\">https://swagger.io/docs/specification/about/</a></p>\n<hr>\n<p>こんな感じ</p>\n<div class=\"gatsby-code-title\">apiV1.yml</div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">openapi</span><span class=\"token punctuation\">:</span> 3.0.2\n<span class=\"token key atrule\">info</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> 蔵書管理システムAPIドキュメント\n  <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> 蔵書管理システムのAPIドキュメントです\n  <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> 1.0.0\n<span class=\"token key atrule\">servers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">url</span><span class=\"token punctuation\">:</span> https<span class=\"token punctuation\">:</span>//example.com/api\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> 本番環境\n<span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">/books</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">get</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">summary</span><span class=\"token punctuation\">:</span> 本の一覧\n      <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n        登録してある本の一覧を取得できます</span>\n      <span class=\"token key atrule\">operationId</span><span class=\"token punctuation\">:</span> getBooks\n      <span class=\"token key atrule\">parameters</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> borrow\n          <span class=\"token key atrule\">in</span><span class=\"token punctuation\">:</span> query\n          <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n            貸出中を含める</span>\n          <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n          <span class=\"token key atrule\">schema</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> boolean\n            <span class=\"token key atrule\">example</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">responses</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">200</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> 成功\n          <span class=\"token key atrule\">content</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">application/json</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">schema</span><span class=\"token punctuation\">:</span>\n                <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> array\n                <span class=\"token key atrule\">items</span><span class=\"token punctuation\">:</span>\n                  <span class=\"token key atrule\">$ref</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'#/components/schemas/book'</span>\n<span class=\"token key atrule\">components</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schemas</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">book</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> Book\n      <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Bookのスキーマです。\n      <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span>\n        <span class=\"token punctuation\">-</span> id\n        <span class=\"token punctuation\">-</span> title\n        <span class=\"token punctuation\">-</span> created_at\n        <span class=\"token punctuation\">-</span> updated_at\n      <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> object\n      <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> integer\n        <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> string\n        <span class=\"token key atrule\">created_at</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> string\n        <span class=\"token key atrule\">updated_at</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> string\n      <span class=\"token key atrule\">example</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1\"</span>\n        <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Love beautiful code\"</span></code></pre></div>\n<p>Q. なんかよくわかんないんだけど…\nA. 慣れれば読めるようになります！頑張ってください！！</p>\n<hr>\n<h3 id=\"redoc-cli\" style=\"position:relative;\"><a href=\"#redoc-cli\" aria-label=\"redoc cli permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>redoc-cli</h3>\n<p>さっきのよくわかんない yaml をhtmlにしてくれるやつ</p>\n<p>コマンド一発でドキュメントを作ってくれるから便利</p>\n<p><code class=\"language-text\">redoc-cli bundle ./resources/docs/apiV1.yml -o ~/book_sample.html</code></p>\n<p><a href=\"https://github.com/Redocly/redoc/tree/master/cli\">https://github.com/Redocly/redoc/tree/master/cli</a></p>\n<hr>\n<p>こんな感じ\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ad1cf8deb5213f60f2507fee92f60210/01a87/001.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB3ElEQVQoz4WTS2/TQBSF/QsKAonUiZM6iWvcmNAXbSVokdigImgRz6qkCzZdsGDBlhX8TBawqQRCwvbE8WM6Dx/GYxclDYKRjs5opPPNvXdsIw4pzr4QxGGOOChFkZBz0JRrl6JAURQoF2MMz0ZvYQ83MdjehXfn7pyMMZng+9lPhEGE8NcYwY8EjAoN4kxq2GVg9/Y/gFKqECRkoaT2QBWeXnPAlU34O3tYUdAZbd2DkWUZoijSsItqdL4Aas4UkONwdILmAx89fxUd169000fbHegzDSSEIEkSpGl6CVxJ1kBKKUan7/BodIT7+0/grG7BXd/G8lold2MHBucceU4hhNAtSeVzQD0KIFWXn77/gI+fPuPh0+foeEM4ap794YZWuTd0qJ5bGIWII6IrKiEXEnXVTF3++MURFq430LL7MDtd7a2uA6tU34UhhApxWQ/rr2/y54xzgYNXx7i62ITluli0ezB7Cqy80bbR6ikgycf4Sr5hIiZIZKI95vGcJiJGwlIcvDzGlRsm7PVbaA88LK35sHwPjY6Npu3AoJyCUIJxHiOIA6QqlIt8RhnPQKVyluPw9RtcMy3V5jLMpX4lu3LL8cpHEeDnTLfFlBeymG1/agzlZ/O/P+U3SC2QUCwQT1QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"001.png\"\n        title=\"001.png\"\n        src=\"/static/ad1cf8deb5213f60f2507fee92f60210/d9199/001.png\"\n        srcset=\"/static/ad1cf8deb5213f60f2507fee92f60210/8ff5a/001.png 240w,\n/static/ad1cf8deb5213f60f2507fee92f60210/e85cb/001.png 480w,\n/static/ad1cf8deb5213f60f2507fee92f60210/d9199/001.png 960w,\n/static/ad1cf8deb5213f60f2507fee92f60210/01a87/001.png 1288w\"\n        sizes=\"(max-width: 960px) 100vw, 960px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<hr>\n<h3 id=\"openapi-validator\" style=\"position:relative;\"><a href=\"#openapi-validator\" aria-label=\"openapi validator permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>openapi-validator</h3>\n<p>OpenApi の yaml をPHPUnitに取りこむやつ </p>\n<p>[イメージ図]</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">response =&gt; Validator = (OK) =&gt; Green\n                      = (NG) =&gt; Red</code></pre></div>\n<p><a href=\"https://gitlab.com/mmalawski/openapi-validator\">https://gitlab.com/mmalawski/openapi-validator</a></p>\n<hr>\n<h3 id=\"実装してみる\" style=\"position:relative;\"><a href=\"#%E5%AE%9F%E8%A3%85%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\" aria-label=\"実装してみる permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>実装してみる</h3>\n<p>(Laravelを使う前提)</p>\n<ol>\n<li>OpenApi でスキーマを書く</li>\n<li>PHPUnit (openapi-validator) でそのスキーマを呼び出す</li>\n<li>レスポンスとスキーマが違ってたらRED</li>\n</ol>\n<hr>\n<h3 id=\"1-openapi-でスキーマを書く\" style=\"position:relative;\"><a href=\"#1-openapi-%E3%81%A7%E3%82%B9%E3%82%AD%E3%83%BC%E3%83%9E%E3%82%92%E6%9B%B8%E3%81%8F\" aria-label=\"1 openapi でスキーマを書く permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. OpenApi でスキーマを書く</h3>\n<p>頑張りましょう！</p>\n<p>(ドキュメント見つつ悪戦苦闘するしか無いような気が… <img class=\"emoji-icon\" alt=\"emoji-innocent\" data-icon=\"emoji-innocent\" style=\"display: inline; margin: 0; margin-top: 1px; position: relative; top: 5px; width: 25px\" src=\"data:image/png;base64, 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\" title=\"emoji-innocent\"> )</p>\n<p><a href=\"https://swagger.io/docs/specification/about\">https://swagger.io/docs/specification/about</a></p>\n<p>今回は出来上がったスキーマは <code class=\"language-text\">resources/docs/apiV1.yml</code> に置きます</p>\n<hr>\n<h3 id=\"2-phpunit-openapi-validator-でそのスキーマを呼び出す\" style=\"position:relative;\"><a href=\"#2-phpunit-openapi-validator-%E3%81%A7%E3%81%9D%E3%81%AE%E3%82%B9%E3%82%AD%E3%83%BC%E3%83%9E%E3%82%92%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%99\" aria-label=\"2 phpunit openapi validator でそのスキーマを呼び出す permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. PHPUnit (openapi-validator) でそのスキーマを呼び出す</h3>\n<p>こんな感じです</p>\n<div class=\"gatsby-code-title\">apiV1Test.php</div>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">namespace</span> <span class=\"token package\">Tests<span class=\"token punctuation\">\\</span>Feature</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">use</span> <span class=\"token package\">Tests<span class=\"token punctuation\">\\</span>TestCase</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Mmal<span class=\"token punctuation\">\\</span>OpenapiValidator<span class=\"token punctuation\">\\</span>Validator</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">use</span> <span class=\"token package\">Symfony<span class=\"token punctuation\">\\</span>Component<span class=\"token punctuation\">\\</span>Yaml<span class=\"token punctuation\">\\</span>Yaml</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ApiV1Test</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">TestCase</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/** @var Validator */</span>\n    <span class=\"token keyword\">static</span> <span class=\"token variable\">$openApiValidator</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">function</span> <span class=\"token function\">setUpBeforeClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">parent</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">setUpBeforeClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        self<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token variable\">$openApiValidator</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Validator</span><span class=\"token punctuation\">(</span>Yaml<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token function\">file_get_contents</span><span class=\"token punctuation\">(</span><span class=\"token function\">resource_path</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'docs/apiV1.yml'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * @test\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getBooks</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$response</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'api/book'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token variable\">$result</span> <span class=\"token operator\">=</span> self<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token variable\">$openApiValidator</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">validate</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'getBooks'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">200</span><span class=\"token punctuation\">,</span> <span class=\"token function\">json_decode</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$response</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getContent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean constant\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">assertFalse</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$result</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">hasErrors</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$result</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<ol>\n<li>テスト前に <code class=\"language-text\">$openApiValidator</code> としてOpenApiを読み込んで</li>\n<li>テストで「OpenApi上のレスポンスの定義 / 期待するステータスコード /レスポンス」を <code class=\"language-text\">$openApiValidator</code> を渡す</li>\n<li>Green or Red</li>\n</ol>\n<hr>\n<h3 id=\"実際にやってみる（red）\" style=\"position:relative;\"><a href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B%EF%BC%88red%EF%BC%89\" aria-label=\"実際にやってみる（red） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>実際にやってみる（Red）</h3>\n<p>レスポンスから <code class=\"language-text\">updated_at</code> を消してみると…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 740px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/50383/002.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.41666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVQ4y61Uy1LDMAxMajsmdpLm/Zy06Qzf0wMwfATfxYWvFFrT5NaHgcOONaq6Xq3kBIfDkdq2oaZpqOs6jlsXA9M0udwwDFSVJVlrKY5jCoLgOp650HChUsolwjCk3W63xcAaCyG2366iZsK+793tNwsfhWRlaLMoiv8hjKKI6rqmcRypqirK9/v7Pt2C1ppyVoe2S24f5EmSkDHGQevIj/BPahgYkpSSIMzloAJJxUn4iWmvBZjqPULUwDbwuBzahEogSVI3bSF+CNeV8UKWZZtfIMO5qsQlWyuPYp5n9xIwFLyMZVmo4zXCRVinNE39CAcmKvLcqSu4fVgAP389qJRXRsE/Jkx5XewlxpmxOuu7BUdubb54F/KfBUPiGeonEpicr9rP00Jf/LX5MDGdmeiVzxcmeWd1b9bQWUmyHoTfpPs/Yc8DIAIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"002.png\"\n        title=\"002.png\"\n        src=\"/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/50383/002.png\"\n        srcset=\"/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/8ff5a/002.png 240w,\n/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/e85cb/002.png 480w,\n/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/50383/002.png 740w\"\n        sizes=\"(max-width: 740px) 100vw, 740px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>あるはずのプロパティが無いと怒られる！Red！！</p>\n<hr>\n<h3 id=\"実際にやってみる（green）\" style=\"position:relative;\"><a href=\"#%E5%AE%9F%E9%9A%9B%E3%81%AB%E3%82%84%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B%EF%BC%88green%EF%BC%89\" aria-label=\"実際にやってみる（green） permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>実際にやってみる（Green）</h3>\n<p>レスポンスに <code class=\"language-text\">updated_at</code> を追加してみると…</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 726px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c1cf11afc784c7af8c3aea3bdafaf61b/f8067/003.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAA9UlEQVQoz6VSXW7DIBgjIQRIIGHNLyhSnva85hK7wqRJW+9/CpcPqZUqdVuzPlgYhIw/G+a9R9/3mOcZPgRM04R+GBCCx7IscT9HHtC2Law10FqDMfYzjLUQokCWZekgz/PECcQvF4kXRXFzdhfkrK5rcM5/v/goaNyu6/5++VEcDh3GcUTTNKiqClJK8GfEnXsBFTPEIqgQGzOVZZnyKuN6yXbHyAPWdY1iYxKlNilTAonvzlYqdR1VRU4rOSMQ3+3w2RKEECBTzrn0/RhnEoJpiExDizhi3OvSwBizS/g6yfalcPxU2E4Sbx8Vtm+N13f5b8dnOeDop+qyOT0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"003.png\"\n        title=\"003.png\"\n        src=\"/static/c1cf11afc784c7af8c3aea3bdafaf61b/f8067/003.png\"\n        srcset=\"/static/c1cf11afc784c7af8c3aea3bdafaf61b/8ff5a/003.png 240w,\n/static/c1cf11afc784c7af8c3aea3bdafaf61b/e85cb/003.png 480w,\n/static/c1cf11afc784c7af8c3aea3bdafaf61b/f8067/003.png 726w\"\n        sizes=\"(max-width: 726px) 100vw, 726px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>レスポンスとスキーマの定義が同じ！Green！！</p>\n<hr>\n<h3 id=\"テストが全部通った後に\" style=\"position:relative;\"><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E5%85%A8%E9%83%A8%E9%80%9A%E3%81%A3%E3%81%9F%E5%BE%8C%E3%81%AB\" aria-label=\"テストが全部通った後に permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>テストが全部通った後に</h3>\n<p>redoc-cli でスキーマを html にして公開！ </p>\n<hr>\n<h3 id=\"最後に\" style=\"position:relative;\"><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\" aria-label=\"最後に permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>最後に</h3>\n<p>何が辛いって、OpenApi(yaml)書くのがとにかく辛いです (^o^)</p>\n<p>既存でAPIがあるとなおさらしんどいです (^o^)(^o^)</p>","fields":{"slug":"/posts/20190716/","tagSlugs":["/tag/laravel/","/tag/api開発/","/tag/テスト/"]},"frontmatter":{"date":"2019-07-16","tags":["Laravel","API開発","テスト"],"title":"PHPUnit + openapi-validator で「スキーマが正、実装が追従」にする","description":"Laravel/Vue.js勉強会#10の発表資料です。API開発におけるスキーマとテストについてまとめました。","image":{"children":[{"__typename":"ImageSharp","fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAABQ0lEQVQ4y61Uy1LDMAxMajsmdpLm/Zy06Qzf0wMwfATfxYWvFFrT5NaHgcOONaq6Xq3kBIfDkdq2oaZpqOs6jlsXA9M0udwwDFSVJVlrKY5jCoLgOp650HChUsolwjCk3W63xcAaCyG2366iZsK+793tNwsfhWRlaLMoiv8hjKKI6rqmcRypqirK9/v7Pt2C1ppyVoe2S24f5EmSkDHGQevIj/BPahgYkpSSIMzloAJJxUn4iWmvBZjqPULUwDbwuBzahEogSVI3bSF+CNeV8UKWZZtfIMO5qsQlWyuPYp5n9xIwFLyMZVmo4zXCRVinNE39CAcmKvLcqSu4fVgAP389qJRXRsE/Jkx5XewlxpmxOuu7BUdubb54F/KfBUPiGeonEpicr9rP00Jf/LX5MDGdmeiVzxcmeWd1b9bQWUmyHoTfpPs/Yc8DIAIAAAAASUVORK5CYII=","aspectRatio":1.3245033112582782,"src":"/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/a79d3/002.png","srcSet":"/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/69585/002.png 200w,\n/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/497c6/002.png 400w,\n/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/a79d3/002.png 740w","sizes":"(max-width: 740px) 100vw, 740px"}}],"publicURL":"/static/0dd4f0f3ec0fc2c23df5e64ac1fa86c1/002.png"}}}},"pageContext":{"slug":"/posts/20190716/"}},"staticQueryHashes":["1155056556","1525128060","783282510"]}